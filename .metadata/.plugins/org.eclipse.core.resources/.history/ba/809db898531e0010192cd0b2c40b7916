package model;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.Scanner;

public class Carrinho {

	Produto produto;
	List<Produto> itens = new ArrayList<>();
	Scanner sc = new Scanner(System.in);

	public Carrinho() {
	};

	public void adicionarProduto(Produto produto) {
		itens.add(produto);
	}

	public void lisatarProduto() {
		for (Produto p : itens) {
			System.out.println("- " + p);
		}
	}

	public boolean removerProduto(String nome) {
		Iterator<Produto> iterator = itens.iterator();
		while (iterator.hasNext()) {
			Produto p = iterator.next();
			if(p.getNome().equalsIgnoreCase(nome)) {
			     iterator.remove();
			     return true;
			}
		}
		return false;
	}

	public String Total() {

		double total = 0;
		for (Produto p : itens) {
			total += p.calcularSubtotal();
		}
		return "\n------------------------------------\n" + "Total da Compra: R$ " + String.format("%.2f", total)
				+ "\n------------------------------------\n";
	}

	public final String toString() {
		StringBuilder sb = new StringBuilder();
		sb.append("-------------------------------- \n");
		sb.append("Compra finalizada! \n");
		sb.append("Total pago: R$ ");
		sb.append(Total()).append("\n");
		sb.append("Obigado pela prefÃªrencia!");
		sb.append("\n-------------------------------- \n");
		sc.close();
		return sb.toString();
	}

}
